<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" th:href="@{/dashboard/home.css}">
</head>

<body>
<div class="dashboard">

    <!-- HEADER -->
    <header class="header">
        <h1>Welcome, <span th:text="${fullName}">User</span></h1>

        <div class="header-right">

            <!-- Cart -->
            <div class="cart-wrapper" onclick="window.location.href='/cart'">
                <span class="cart-icon">ğŸ›’</span>
                <span class="cart-count"
                      th:if="${cartCount != null and cartCount > 0}"
                      th:text="${cartCount}">0</span>
            </div>

            <!-- Logout -->
            <a href="/logout" class="logout-btn">Logout</a>
        </div>
    </header>

    <!-- DEAL BANNER -->
    <section class="offer-banner">
        <img src="/images/burger.webp" alt="Burger" />
        <div class="offer-text">
            <h3>The special hot burger</h3>
        <!--            <button class="order-btn">Order now</button>-->
        </div>
    </section>

    <!-- BEST DEALS -->
    <section class="section">
        <h2>Best deals</h2>

        <div class="cards-container">
            <div class="card" th:each="deal : ${deals}">
                <p><strong th:text="${deal.title}">Deal Title</strong></p>
                <p th:text="${deal.description}">Deal description</p>

                <p>
                    <span>
                        From: <span th:text="${deal.startDate}"></span>
                        â†’
                        <span th:text="${deal.endDate}"></span>
                    </span>
                </p>
            </div>
        </div>
    </section>

    <!-- RESTAURANTS -->
    <section class="section">
        <h2>Restaurants nearby</h2>

        <div class="cards-container">
            <div class="restaurant-card"
                 th:each="restaurant : ${restaurants}"
                 th:onclick="'window.location.href=\'/restaurant/' + ${restaurant.id} + '\';'">

                <p th:text="${restaurant.name}">Restaurant Name</p>
                <p class="rating" th:text="${restaurant.category} ?: 'Restaurant'"></p>
                <p th:text="${restaurant.location} ?: 'Location not set'"></p>
            </div>
        </div>
    </section>

</div>

<!-- BOTTOM NAVIGATION -->
<nav class="bottom-nav" style="background-color: #DFFFE2">
    <form action="/home" method="get" style="display: contents">
        <button type="submit" class="nav-btn">ğŸ <br>Home</button>
    </form>

    <form action="/profile" method="get" style="display: contents">
        <button type="submit" class="nav-btn">ğŸ‘¤<br>Profile</button>
    </form>
</nav>

</body>
</html>
